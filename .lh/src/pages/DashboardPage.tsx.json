{
    "sourceFile": "src/pages/DashboardPage.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1760433584604,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1760437509110,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,8 +10,9 @@\n   description?: string;\n   created_at?: string;\n   active?: boolean;\n   country?: string;\n+  zone_count?: number;\n }\n \n const DashboardPage: React.FC = () => {\n   const [maps, setMaps] = useState<MapRecord[]>([]);\n@@ -30,10 +31,10 @@\n       setLoading(false);\n       return;\n     }\n     \n-    // Fetch maps using the correct API endpoint\n-    fetch(`/api/db/tables/map?customer_id=${user.customer_id}`)\n+    // Fetch maps using the new customer-specific endpoint with zone counts\n+    fetch(`/api/customer/${user.customer_id}/maps`)\n       .then(async (res) => {\n         console.log('API response status:', res.status);\n         \n         // Get response text first\n@@ -46,18 +47,18 @@\n         }\n         \n         // Try to parse JSON\n         try {\n-          return text ? JSON.parse(text) : { records: [] };\n+          return text ? JSON.parse(text) : { maps: [] };\n         } catch (parseError) {\n           console.error('Failed to parse response:', parseError);\n           throw new Error('Invalid JSON response from server');\n         }\n       })\n       .then((data) => {\n         console.log('API response data:', data);\n-        // The API returns { records: [...] }\n-        setMaps(data.records || data || []);\n+        // The API returns { success: true, maps: [...] }\n+        setMaps(data.maps || []);\n         setLoading(false);\n       })\n       .catch(error => {\n         console.error('Error fetching maps:', error);\n@@ -122,17 +123,33 @@\n             flexWrap: 'wrap',\n             gap: '20px',\n             marginBottom: '30px'\n           }}>\n-            <h1 style={{ \n-              fontSize: 'clamp(24px, 5vw, 32px)', \n-              color: '#000', \n-              fontWeight: '700', \n-              margin: '0',\n-              fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif'\n-            }}>\n-              My Maps Dashboard\n-            </h1>\n+            <div>\n+              <h1 style={{ \n+                fontSize: 'clamp(24px, 5vw, 32px)', \n+                color: '#000', \n+                fontWeight: '700', \n+                margin: '0 0 8px 0',\n+                fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif'\n+              }}>\n+                My Maps Dashboard\n+              </h1>\n+              {user && (\n+                <p style={{ \n+                  fontSize: '14px', \n+                  color: '#718096', \n+                  margin: '0',\n+                  fontWeight: '500'\n+                }}>\n+                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" style={{ verticalAlign: 'middle', marginRight: '6px' }}>\n+                    <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\n+                    <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\n+                  </svg>\n+                  Logged in as: <span style={{ color: '#4f8cff', fontWeight: '600' }}>{user.email}</span>\n+                </p>\n+              )}\n+            </div>\n             \n             <div style={{ display: 'flex', gap: '12px', alignItems: 'center' }}>\n               <button \n                 onClick={() => window.location.reload()} \n@@ -204,8 +221,54 @@\n               </button>\n             </div>\n           </div>\n           \n+          {!loading && maps.length > 0 && (\n+            <div style={{\n+              display: 'grid',\n+              gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n+              gap: '16px',\n+              marginBottom: '24px'\n+            }}>\n+              <div style={{\n+                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n+                padding: '20px',\n+                borderRadius: '12px',\n+                color: 'white',\n+                boxShadow: '0 4px 12px rgba(102, 126, 234, 0.3)'\n+              }}>\n+                <div style={{ fontSize: '14px', opacity: 0.9, marginBottom: '8px', fontWeight: '500' }}>Total Maps</div>\n+                <div style={{ fontSize: '32px', fontWeight: '700' }}>{maps.length}</div>\n+              </div>\n+              \n+              <div style={{\n+                background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\n+                padding: '20px',\n+                borderRadius: '12px',\n+                color: 'white',\n+                boxShadow: '0 4px 12px rgba(240, 147, 251, 0.3)'\n+              }}>\n+                <div style={{ fontSize: '14px', opacity: 0.9, marginBottom: '8px', fontWeight: '500' }}>Total Zones</div>\n+                <div style={{ fontSize: '32px', fontWeight: '700' }}>\n+                  {maps.reduce((sum, map) => sum + (map.zone_count || 0), 0)}\n+                </div>\n+              </div>\n+              \n+              <div style={{\n+                background: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',\n+                padding: '20px',\n+                borderRadius: '12px',\n+                color: 'white',\n+                boxShadow: '0 4px 12px rgba(79, 172, 254, 0.3)'\n+              }}>\n+                <div style={{ fontSize: '14px', opacity: 0.9, marginBottom: '8px', fontWeight: '500' }}>Avg Zones/Map</div>\n+                <div style={{ fontSize: '32px', fontWeight: '700' }}>\n+                  {maps.length > 0 ? (maps.reduce((sum, map) => sum + (map.zone_count || 0), 0) / maps.length).toFixed(1) : '0'}\n+                </div>\n+              </div>\n+            </div>\n+          )}\n+          \n           {loading ? (\n             <div style={{\n               display: 'flex',\n               justifyContent: 'center',\n@@ -267,8 +330,9 @@\n                   <tr style={{ background: '#f5f8fb' }}>\n                     <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Map ID</th>\n                     <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Title</th>\n                     <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Description</th>\n+                    <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3', textAlign: 'center' }}>Zones</th>\n                     <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Created At</th>\n                     <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Actions</th>\n                   </tr>\n                 </thead>\n@@ -283,14 +347,42 @@\n                       onMouseOver={(e) => e.currentTarget.style.background = '#f0f4f9'}\n                       onMouseOut={(e) => e.currentTarget.style.background = index % 2 === 0 ? 'white' : '#fafbfd'}\n                     >\n                       <td style={{ padding: '16px', borderBottom: '1px solid #eaedf3', fontWeight: '600', color: '#4f8cff' }}>#{map.map_id}</td>\n-                      <td style={{ padding: '16px', borderBottom: '1px solid #eaedf3', fontWeight: '600' }}>{map.title}</td>\n+                      <td style={{ padding: '16px', borderBottom: '1px solid #eaedf3', fontWeight: '600' }}>\n+                        <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n+                          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#4f8cff\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n+                            <path d=\"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z\"></path>\n+                            <circle cx=\"12\" cy=\"10\" r=\"3\"></circle>\n+                          </svg>\n+                          {map.title}\n+                        </div>\n+                      </td>\n                       <td style={{ padding: '16px', borderBottom: '1px solid #eaedf3' }}>\n                         <div style={{ maxWidth: '250px', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\n                           {map.description || '-'}\n                         </div>\n                       </td>\n+                      <td style={{ padding: '16px', borderBottom: '1px solid #eaedf3', textAlign: 'center' }}>\n+                        <span style={{\n+                          display: 'inline-flex',\n+                          alignItems: 'center',\n+                          gap: '6px',\n+                          padding: '6px 12px',\n+                          background: map.zone_count && map.zone_count > 0 ? '#e6f7ff' : '#f5f5f5',\n+                          color: map.zone_count && map.zone_count > 0 ? '#1890ff' : '#8c8c8c',\n+                          borderRadius: '12px',\n+                          fontSize: '13px',\n+                          fontWeight: '600'\n+                        }}>\n+                          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n+                            <polygon points=\"12 2 2 7 12 12 22 7 12 2\"></polygon>\n+                            <polyline points=\"2 17 12 22 22 17\"></polyline>\n+                            <polyline points=\"2 12 12 17 22 12\"></polyline>\n+                          </svg>\n+                          {map.zone_count || 0}\n+                        </span>\n+                      </td>\n                       <td style={{ padding: '16px', borderBottom: '1px solid #eaedf3' }}>\n                         {map.created_at ? new Date(map.created_at).toLocaleDateString() : '-'}\n                       </td>\n                       <td style={{ padding: '16px', borderBottom: '1px solid #eaedf3' }}>\n"
                },
                {
                    "date": 1760438406025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,9 +80,9 @@\n       return;\n     }\n \n     try {\n-      const response = await fetch(`/api/db/tables/map/${id}`, {\n+      const response = await fetch(`/api/map/${id}`, {\n         method: 'DELETE',\n       });\n \n       if (!response.ok) {\n"
                },
                {
                    "date": 1760438870900,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -329,8 +329,9 @@\n                 <thead>\n                   <tr style={{ background: '#f5f8fb' }}>\n                     <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Map ID</th>\n                     <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Title</th>\n+                    <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Map Code</th>\n                     <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Description</th>\n                     <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3', textAlign: 'center' }}>Zones</th>\n                     <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Created At</th>\n                     <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Actions</th>\n@@ -357,8 +358,23 @@\n                           {map.title}\n                         </div>\n                       </td>\n                       <td style={{ padding: '16px', borderBottom: '1px solid #eaedf3' }}>\n+                        <div style={{ \n+                          fontFamily: 'monospace', \n+                          fontSize: '13px',\n+                          fontWeight: '600',\n+                          padding: '6px 10px',\n+                          background: '#ebf5ff',\n+                          color: '#0066cc',\n+                          borderRadius: '6px',\n+                          display: 'inline-block',\n+                          border: '1px solid #bcdaff'\n+                        }}>\n+                          {map.map_code || 'N/A'}\n+                        </div>\n+                      </td>\n+                      <td style={{ padding: '16px', borderBottom: '1px solid #eaedf3' }}>\n                         <div style={{ maxWidth: '250px', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\n                           {map.description || '-'}\n                         </div>\n                       </td>\n"
                },
                {
                    "date": 1760441308717,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -248,9 +248,9 @@\n                 boxShadow: '0 4px 12px rgba(240, 147, 251, 0.3)'\n               }}>\n                 <div style={{ fontSize: '14px', opacity: 0.9, marginBottom: '8px', fontWeight: '500' }}>Total Zones</div>\n                 <div style={{ fontSize: '32px', fontWeight: '700' }}>\n-                  {maps.reduce((sum, map) => sum + (map.zone_count || 0), 0)}\n+                  {maps.reduce((sum, map) => sum + (parseInt(String(map.zone_count || 0), 10)), 0)}\n                 </div>\n               </div>\n               \n               <div style={{\n@@ -261,9 +261,9 @@\n                 boxShadow: '0 4px 12px rgba(79, 172, 254, 0.3)'\n               }}>\n                 <div style={{ fontSize: '14px', opacity: 0.9, marginBottom: '8px', fontWeight: '500' }}>Avg Zones/Map</div>\n                 <div style={{ fontSize: '32px', fontWeight: '700' }}>\n-                  {maps.length > 0 ? (maps.reduce((sum, map) => sum + (map.zone_count || 0), 0) / maps.length).toFixed(1) : '0'}\n+                  {maps.length > 0 ? (maps.reduce((sum, map) => sum + (parseInt(String(map.zone_count || 0), 10)), 0) / maps.length).toFixed(1) : '0'}\n                 </div>\n               </div>\n             </div>\n           )}\n"
                },
                {
                    "date": 1760441476059,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -105,12 +105,14 @@\n       <div className=\"dashboard-page\" style={{ \n       padding: '24px', \n       maxWidth: '1200px', \n       margin: '0 auto', \n-      color: '#000',\n+      color: '#1a202c',\n       fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif',\n       paddingTop: '80px',\n-      paddingBottom: '40px'\n+      paddingBottom: '40px',\n+      background: '#ffffff',\n+      minHeight: '100vh'\n     }}>\n       {showNewMapForm ? (\n         <NewMapForm onCancel={() => setShowNewMapForm(false)} />\n       ) : (\n"
                }
            ],
            "date": 1760433584604,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../hooks/useAuth';\nimport NewMapForm from '../components/NewMapForm';\nimport AppNavBar from '../components/AppNavBar';\n\nexport interface MapRecord {\n  map_id: number;\n  title: string;\n  description?: string;\n  created_at?: string;\n  active?: boolean;\n  country?: string;\n}\n\nconst DashboardPage: React.FC = () => {\n  const [maps, setMaps] = useState<MapRecord[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showNewMapForm, setShowNewMapForm] = useState(false);\n  const navigate = useNavigate();\n  const { user } = useAuth();\n\n  useEffect(() => {\n    // Add logging to debug API call\n    console.log('Fetching maps from API...');\n    \n    // Only fetch maps if user is logged in\n    if (!user?.customer_id) {\n      setMaps([]);\n      setLoading(false);\n      return;\n    }\n    \n    // Fetch maps using the correct API endpoint\n    fetch(`/api/db/tables/map?customer_id=${user.customer_id}`)\n      .then(async (res) => {\n        console.log('API response status:', res.status);\n        \n        // Get response text first\n        const text = await res.text();\n        console.log('API response text:', text.substring(0, 200));\n        \n        if (!res.ok) {\n          console.error('Error response:', text);\n          throw new Error(`HTTP error! status: ${res.status}`);\n        }\n        \n        // Try to parse JSON\n        try {\n          return text ? JSON.parse(text) : { records: [] };\n        } catch (parseError) {\n          console.error('Failed to parse response:', parseError);\n          throw new Error('Invalid JSON response from server');\n        }\n      })\n      .then((data) => {\n        console.log('API response data:', data);\n        // The API returns { records: [...] }\n        setMaps(data.records || data || []);\n        setLoading(false);\n      })\n      .catch(error => {\n        console.error('Error fetching maps:', error);\n        setMaps([]);\n        setLoading(false);\n      });\n  }, [user?.customer_id]);\n\n  const handleView = (id: number) => {\n    navigate(`/view-map/${id}`);\n  };\n\n  const handleEdit = (id: number) => {\n    navigate(`/edit-map/${id}`);\n  };\n\n  const handleDelete = async (id: number, title: string) => {\n    if (!confirm(`Are you sure you want to delete the map \"${title}\"? This action cannot be undone.`)) {\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/db/tables/map/${id}`, {\n        method: 'DELETE',\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to delete map: ${response.status}`);\n      }\n\n      // Remove the map from the local state\n      setMaps(prev => prev.filter(map => map.map_id !== id));\n      \n      console.log('Map deleted successfully');\n    } catch (error) {\n      console.error('Error deleting map:', error);\n      alert('Failed to delete map. Please try again.');\n    }\n  };\n\n  return (\n    <>\n      <AppNavBar />\n      <div className=\"dashboard-page\" style={{ \n      padding: '24px', \n      maxWidth: '1200px', \n      margin: '0 auto', \n      color: '#000',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif',\n      paddingTop: '80px',\n      paddingBottom: '40px'\n    }}>\n      {showNewMapForm ? (\n        <NewMapForm onCancel={() => setShowNewMapForm(false)} />\n      ) : (\n        <>\n          <div style={{\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            flexWrap: 'wrap',\n            gap: '20px',\n            marginBottom: '30px'\n          }}>\n            <h1 style={{ \n              fontSize: 'clamp(24px, 5vw, 32px)', \n              color: '#000', \n              fontWeight: '700', \n              margin: '0',\n              fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif'\n            }}>\n              My Maps Dashboard\n            </h1>\n            \n            <div style={{ display: 'flex', gap: '12px', alignItems: 'center' }}>\n              <button \n                onClick={() => window.location.reload()} \n                style={{\n                  padding: '14px 18px',\n                  background: '#f8f9fa',\n                  color: '#4a5568',\n                  border: '1px solid #e2e8f0',\n                  borderRadius: '10px',\n                  cursor: 'pointer',\n                  fontSize: '15px',\n                  fontWeight: '600',\n                  transition: 'all 0.2s ease',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px',\n                  whiteSpace: 'nowrap'\n                }}\n                onMouseOver={(e) => {\n                  e.currentTarget.style.background = '#e2e8f0';\n                  e.currentTarget.style.borderColor = '#cbd5e0';\n                }}\n                onMouseOut={(e) => {\n                  e.currentTarget.style.background = '#f8f9fa';\n                  e.currentTarget.style.borderColor = '#e2e8f0';\n                }}\n              >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                  <polyline points=\"23 4 23 10 17 10\"></polyline>\n                  <polyline points=\"1 20 1 14 7 14\"></polyline>\n                  <path d=\"m3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15\"></path>\n                </svg>\n                Refresh\n              </button>\n              \n              <button \n                onClick={() => setShowNewMapForm(true)} \n                className=\"create-map-btn\" \n                style={{\n                  padding: '14px 24px',\n                  background: '#4f8cff',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '10px',\n                  cursor: 'pointer',\n                  fontSize: '15px',\n                  fontWeight: '600',\n                  boxShadow: '0 4px 12px rgba(79,140,255,0.2)',\n                  transition: 'all 0.2s ease',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px',\n                  whiteSpace: 'nowrap'\n                }}\n                onMouseOver={(e) => {\n                  e.currentTarget.style.background = '#3a7dff';\n                  e.currentTarget.style.boxShadow = '0 6px 16px rgba(79,140,255,0.3)';\n                }}\n                onMouseOut={(e) => {\n                  e.currentTarget.style.background = '#4f8cff';\n                  e.currentTarget.style.boxShadow = '0 4px 12px rgba(79,140,255,0.2)';\n                }}\n              >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                  <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\n                  <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\n                </svg>\n                Create New Map\n              </button>\n            </div>\n          </div>\n          \n          {loading ? (\n            <div style={{\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              padding: '40px',\n              color: '#000'\n            }}>\n              <div style={{ display: 'inline-block', position: 'relative', width: '80px', height: '80px' }}>\n                <div style={{\n                  position: 'absolute',\n                  border: '4px solid #4f8cff',\n                  opacity: '0.1',\n                  borderRadius: '50%',\n                  animation: 'ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite',\n                  width: '100%',\n                  height: '100%'\n                }}></div>\n                <div style={{\n                  position: 'absolute',\n                  border: '4px solid #4f8cff',\n                  opacity: '1',\n                  borderRadius: '50%',\n                  animation: 'ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite',\n                  width: '100%',\n                  height: '100%',\n                  animationDelay: '-0.5s'\n                }}></div>\n              </div>\n              <style>{`\n                @keyframes ripple {\n                  0% {\n                    transform: scale(0);\n                    opacity: 1;\n                  }\n                  100% {\n                    transform: scale(1);\n                    opacity: 0;\n                  }\n                }\n              `}</style>\n            </div>\n          ) : maps.length > 0 ? (\n            <div className=\"responsive-table-container\" style={{ \n              borderRadius: '12px',\n              overflow: 'auto',\n              boxShadow: '0 2px 12px rgba(0,0,0,0.06)',\n              border: '1px solid #eaedf3',\n              color: '#000',\n              fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif'\n            }}>\n              <table style={{ \n                width: '100%', \n                borderCollapse: 'collapse',\n                textAlign: 'left',\n                fontSize: '14px',\n                minWidth: '800px'\n              }}>\n                <thead>\n                  <tr style={{ background: '#f5f8fb' }}>\n                    <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Map ID</th>\n                    <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Title</th>\n                    <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Description</th>\n                    <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Created At</th>\n                    <th style={{ padding: '16px', fontWeight: '600', color: '#4a5568', borderBottom: '1px solid #eaedf3' }}>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {maps.map((map, index) => (\n                    <tr \n                      key={map.map_id} \n                      style={{ \n                        background: index % 2 === 0 ? 'white' : '#fafbfd',\n                        transition: 'all 0.2s ease'\n                      }}\n                      onMouseOver={(e) => e.currentTarget.style.background = '#f0f4f9'}\n                      onMouseOut={(e) => e.currentTarget.style.background = index % 2 === 0 ? 'white' : '#fafbfd'}\n                    >\n                      <td style={{ padding: '16px', borderBottom: '1px solid #eaedf3', fontWeight: '600', color: '#4f8cff' }}>#{map.map_id}</td>\n                      <td style={{ padding: '16px', borderBottom: '1px solid #eaedf3', fontWeight: '600' }}>{map.title}</td>\n                      <td style={{ padding: '16px', borderBottom: '1px solid #eaedf3' }}>\n                        <div style={{ maxWidth: '250px', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\n                          {map.description || '-'}\n                        </div>\n                      </td>\n                      <td style={{ padding: '16px', borderBottom: '1px solid #eaedf3' }}>\n                        {map.created_at ? new Date(map.created_at).toLocaleDateString() : '-'}\n                      </td>\n                      <td style={{ padding: '16px', borderBottom: '1px solid #eaedf3' }}>\n                        <div style={{ display: 'flex', gap: '8px' }}>\n                          <button \n                            onClick={() => handleView(map.map_id)}\n                            style={{\n                              padding: '8px 16px',\n                              background: '#f0f4f9',\n                              color: '#4f8cff',\n                              border: 'none',\n                              borderRadius: '6px',\n                              cursor: 'pointer',\n                              fontWeight: '600',\n                              fontSize: '13px',\n                              transition: 'all 0.2s ease'\n                            }}\n                            onMouseOver={(e) => e.currentTarget.style.background = '#e5edfa'}\n                            onMouseOut={(e) => e.currentTarget.style.background = '#f0f4f9'}\n                          >\n                            View\n                          </button>\n                          <button \n                            onClick={() => handleEdit(map.map_id)}\n                            style={{\n                              padding: '8px 16px',\n                              background: '#4f8cff',\n                              color: 'white',\n                              border: 'none',\n                              borderRadius: '6px',\n                              cursor: 'pointer',\n                              fontWeight: '600',\n                              fontSize: '13px',\n                              transition: 'all 0.2s ease'\n                            }}\n                            onMouseOver={(e) => e.currentTarget.style.background = '#3a7dff'}\n                            onMouseOut={(e) => e.currentTarget.style.background = '#4f8cff'}\n                          >\n                            Edit\n                          </button>\n                          <button \n                            onClick={() => handleDelete(map.map_id, map.title)}\n                            style={{\n                              padding: '8px 16px',\n                              background: '#ff4757',\n                              color: 'white',\n                              border: 'none',\n                              borderRadius: '6px',\n                              cursor: 'pointer',\n                              fontWeight: '600',\n                              fontSize: '13px',\n                              transition: 'all 0.2s ease'\n                            }}\n                            onMouseOver={(e) => e.currentTarget.style.background = '#ff3742'}\n                            onMouseOut={(e) => e.currentTarget.style.background = '#ff4757'}\n                          >\n                            Delete\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          ) : (\n            <div style={{ \n              padding: '60px 40px', \n              textAlign: 'center', \n              color: '#4a5568',\n              background: 'linear-gradient(135deg, #f9fafc 0%, #f0f4f8 100%)',\n              borderRadius: '16px',\n              border: '1px dashed #d1d8e4',\n              margin: '20px 0'\n            }}>\n              <div style={{ \n                width: '80px', \n                height: '80px', \n                background: '#e2e8f0', \n                borderRadius: '50%', \n                margin: '0 auto 24px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              }}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#718096\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                  <path d=\"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z\"></path>\n                  <circle cx=\"12\" cy=\"10\" r=\"3\"></circle>\n                </svg>\n              </div>\n              <h3 style={{ fontSize: '20px', marginBottom: '12px', color: '#2d3748' }}>No Maps Yet</h3>\n              <p style={{ fontSize: '16px', marginBottom: '8px', color: '#4a5568' }}>You haven't created any maps yet</p>\n              <p style={{ fontSize: '14px', color: '#718096', marginBottom: '24px' }}>Create your first map to start building your collection</p>\n              <button \n                onClick={() => setShowNewMapForm(true)}\n                style={{\n                  padding: '12px 24px',\n                  background: '#4f8cff',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '8px',\n                  cursor: 'pointer',\n                  fontSize: '14px',\n                  fontWeight: '600',\n                  transition: 'all 0.2s ease'\n                }}\n                onMouseOver={(e) => e.currentTarget.style.background = '#3a7dff'}\n                onMouseOut={(e) => e.currentTarget.style.background = '#4f8cff'}\n              >\n                Create Your First Map\n              </button>\n            </div>\n          )}\n        </>\n      )}\n      </div>\n    </>\n  );\n};\n\nexport default DashboardPage;\n"
        }
    ]
}