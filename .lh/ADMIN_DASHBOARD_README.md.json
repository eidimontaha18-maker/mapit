{
    "sourceFile": "ADMIN_DASHBOARD_README.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1761127916598,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1761127916598,
            "name": "Commit-0",
            "content": "# Admin Dashboard - MapIt Application\r\n\r\n## üéâ Overview\r\n\r\nThe Admin Dashboard provides a comprehensive view of all maps created by customers with modern, responsive design. Admins can monitor all user activity, view map details, and access customer information.\r\n\r\n## üîê Admin Access\r\n\r\n### Default Admin Credentials\r\n- **Email:** `admin@mapit.com`\r\n- **Password:** `admin123`\r\n\r\n‚ö†Ô∏è **IMPORTANT:** Change this password after first login for security!\r\n\r\n### Login Process\r\n1. Go to the login page (same as customer login)\r\n2. Enter admin credentials\r\n3. System automatically detects admin user and redirects to `/admin/dashboard`\r\n4. Customer users will be redirected to their regular dashboard\r\n\r\n## üé® Features\r\n\r\n### Dashboard Statistics\r\n- **Total Maps:** View the total number of maps created across all customers\r\n- **Total Customers:** See how many registered users exist\r\n- **Total Zones:** Count of all zones drawn on all maps\r\n- **Active Maps:** Number of currently active maps\r\n\r\n### Maps Table\r\nThe admin dashboard displays a comprehensive table with:\r\n\r\n| Column | Description |\r\n|--------|-------------|\r\n| **ID** | Unique map identifier |\r\n| **Map Title** | Name and description of the map |\r\n| **Customer** | Customer name and email who created the map |\r\n| **Country** | Country associated with the map |\r\n| **Zones** | Number of zones drawn on this map |\r\n| **Created** | Map creation date |\r\n| **Status** | Active/Inactive status |\r\n| **Actions** | View map button (opens in new tab) |\r\n\r\n### Advanced Features\r\n\r\n#### üîç Search & Filter\r\n- **Search Bar:** Search by map title, customer name, email, or country\r\n- **Status Filter:** \r\n  - All Maps\r\n  - Active Maps Only\r\n  - Inactive Maps Only\r\n\r\n#### üìä Sorting\r\n- Click any column header to sort\r\n- Click again to reverse sort direction\r\n- Visual indicators (‚Üë‚Üì) show current sort\r\n\r\n#### üìÑ Pagination\r\n- 10 items per page\r\n- Navigate with Previous/Next buttons\r\n- Shows current page and total pages\r\n\r\n#### üîÑ Refresh\r\n- Manual refresh button to reload latest data\r\n- Keeps current filter and search settings\r\n\r\n## üé® Design Features\r\n\r\n### Responsive Design\r\n- **Desktop:** Full-featured table with all columns\r\n- **Tablet:** Optimized layout with adjusted spacing\r\n- **Mobile:** Stacked cards, scrollable table, touch-friendly buttons\r\n\r\n### Modern UI Elements\r\n- Gradient backgrounds and cards\r\n- Smooth animations and transitions\r\n- Hover effects on interactive elements\r\n- Color-coded status badges\r\n- Icon-enhanced interface\r\n\r\n### Color Scheme\r\n- **Primary Gradient:** Purple to violet (#667eea ‚Üí #764ba2)\r\n- **Success:** Green badges for active items\r\n- **Warning:** Red badges for inactive items\r\n- **Info:** Blue badges for zone counts\r\n\r\n## üöÄ API Endpoints\r\n\r\nThe admin dashboard uses these backend endpoints:\r\n\r\n### 1. Admin Login\r\n```\r\nPOST /api/admin/login\r\nBody: { email, password }\r\nResponse: { success, admin: { admin_id, email, first_name, last_name } }\r\n```\r\n\r\n### 2. Get All Maps\r\n```\r\nGET /api/admin/maps\r\nResponse: { \r\n  success, \r\n  maps: [{\r\n    map_id, title, description, map_code, created_at,\r\n    active, country, customer_id, first_name, last_name,\r\n    email, registration_date, zone_count\r\n  }],\r\n  total\r\n}\r\n```\r\n\r\n### 3. Get Dashboard Statistics\r\n```\r\nGET /api/admin/stats\r\nResponse: { \r\n  success, \r\n  stats: {\r\n    totalMaps, totalCustomers, totalZones, \r\n    activeMaps, recentActivity\r\n  }\r\n}\r\n```\r\n\r\n## üõ†Ô∏è Setup Instructions\r\n\r\n### 1. Database Setup (Already Done)\r\n```bash\r\nnode setup-admin.js\r\n```\r\n\r\nThis creates:\r\n- `admin` table with admin credentials\r\n- Default admin user\r\n- Necessary indexes\r\n\r\n### 2. Start the Server\r\n```bash\r\nnpm run server\r\n# or\r\nnode server.js\r\n```\r\n\r\n### 3. Start the Frontend\r\n```bash\r\nnpm run dev\r\n```\r\n\r\n### 4. Access Admin Dashboard\r\n1. Navigate to `http://localhost:5173/login`\r\n2. Login with admin credentials\r\n3. You'll be automatically redirected to `/admin/dashboard`\r\n\r\n## üîí Security Features\r\n\r\n1. **Separate Authentication:** Admin login uses separate table and endpoint\r\n2. **Password Hashing:** bcrypt encryption for passwords\r\n3. **Session Storage:** Admin status stored in localStorage\r\n4. **Route Protection:** Dashboard checks admin status on mount\r\n5. **Auto-redirect:** Non-admin users redirected to login\r\n\r\n## üì± Responsive Breakpoints\r\n\r\n- **Desktop:** > 1024px (full layout)\r\n- **Tablet:** 768px - 1024px (adjusted layout)\r\n- **Mobile:** < 768px (stacked/scrollable)\r\n- **Small Mobile:** < 480px (compact view)\r\n\r\n## üéØ Usage Tips\r\n\r\n1. **Viewing Maps:** Click the eye icon to view any customer's map in a new tab\r\n2. **Searching:** Type any part of title, name, email, or country to filter\r\n3. **Quick Stats:** Stats cards at the top provide instant overview\r\n4. **Sorting:** Click column headers to sort by that field\r\n5. **Refresh:** Use refresh button after customers create new maps\r\n\r\n## üîß Customization\r\n\r\n### Adding More Admin Users\r\n\r\nRun this SQL command in your database:\r\n\r\n```sql\r\nINSERT INTO admin (email, password_hash, first_name, last_name)\r\nVALUES (\r\n  'newemail@example.com',\r\n  '$2b$10$HASHED_PASSWORD_HERE',\r\n  'First',\r\n  'Last'\r\n);\r\n```\r\n\r\nOr create a script similar to `setup-admin.js` with different credentials.\r\n\r\n### Modifying Table Columns\r\n\r\nEdit `src/pages/AdminDashboard.tsx`:\r\n- Add/remove columns in the `<thead>` section\r\n- Update corresponding data in the `<tbody>` map function\r\n- Adjust sort functionality if needed\r\n\r\n### Changing Items Per Page\r\n\r\nIn `src/pages/AdminDashboard.tsx`, modify:\r\n```typescript\r\nconst itemsPerPage = 10; // Change this number\r\n```\r\n\r\n## üêõ Troubleshooting\r\n\r\n### Admin Login Not Working\r\n1. Check database connection\r\n2. Verify admin table exists: `SELECT * FROM admin;`\r\n3. Check server logs for errors\r\n4. Ensure bcrypt is installed: `npm install bcryptjs`\r\n\r\n### Dashboard Not Loading\r\n1. Open browser console for errors\r\n2. Check if server is running on port 3101\r\n3. Verify API endpoints are accessible\r\n4. Check localStorage for `isAdmin` flag\r\n\r\n### Style Issues\r\n1. Clear browser cache\r\n2. Check if CSS file is imported in component\r\n3. Verify file path: `src/styles/AdminDashboard.css`\r\n\r\n## üìä Future Enhancements\r\n\r\nPotential features to add:\r\n- Delete/Edit map functionality\r\n- Bulk actions (activate/deactivate multiple maps)\r\n- Export data to CSV/Excel\r\n- Advanced analytics and charts\r\n- Customer management (block/unblock users)\r\n- Map preview thumbnails\r\n- Email notifications\r\n- Activity logs\r\n\r\n## üìû Support\r\n\r\nFor issues or questions:\r\n1. Check server console logs\r\n2. Check browser console for frontend errors\r\n3. Verify database connection\r\n4. Ensure all npm packages are installed\r\n\r\n---\r\n\r\n**Version:** 1.0.0  \r\n**Last Updated:** October 22, 2025  \r\n**Status:** ‚úÖ Production Ready\r\n"
        }
    ]
}